Sketch Log

Pretty clear where we are slow now :)

Per Frame Freq
--------------
(CEPL.CONTEXT::GPU-BUFFER-BOUND-ID . 5775.1777)
(CEPL.CONTEXT::SET-GPU-BUFFER-BOUND-ID . 3850.1184)
((SETF CEPL.CONTEXT::VERTEX-ARRAY-BINDING) . 3838.6155)
((SETF CEPL.CONTEXT:VAO-BOUND) . 3838.6155)
(CEPL.PIPELINES::UNIFORM-MATRIX-4FT . 3834.781)
((SETF CEPL.CONTEXT::%TEXTURE-BINDING) . 3834.781)
(CEPL.CONTEXT::SET-TEXTURE-BOUND-ID . 3834.781)
(CEPL.VIEWPORTS::%VIEWPORT . 3834.781)
(CEPL.VIEWPORTS::%SET-CURRENT-VIEWPORT . 3834.781)
(CEPL.VIEWPORTS:CURRENT-VIEWPORT . 3834.781)
(%CEPL.TYPES:BUFFER-STREAM-START . 3834.7751)
(%CEPL.TYPES:BUFFER-STREAM-INDEX-TYPE . 3834.7751)
(CEPL.C-ARRAYS::%GL-CALC-BYTE-SIZE . 3834.7693)
(CEPL.CONTEXT::BUFFER-KIND->CACHE-INDEX . 1919.3077)
(CEPL.GPU-ARRAYS.BUFFER-BACKED:GPU-ARRAY-BUFFER . 1919.3077)
(CEPL.INTERNALS:GL-TYPE-SIZE . 1919.3018)
(CEPL.CONTEXT:DRAW-FBO-BOUND . 1917.3905)
(CEPL.CONTEXT:VAO-BOUND . 1917.3905)
(CEPL.PIPELINES::FALLBACK-IUNIFORM-FUNC . 1917.3905)
(CEPL.PIPELINES::UNIFORM-SAMPLER . 1917.3905)
(%CEPL.TYPES:%SAMPLER-ID . 1917.3905)
(CEPL.TEXTURES::ACTIVE-TEXTURE-NUM . 1917.3905)
(CEPL.GPU-ARRAYS::%PROCESS-WITH-GPU-ARRAY-RANGE-RUNTIME . 1917.3905)
(%CEPL.TYPES:DRAW-MODE-GROUP-ID . 1917.3905)
((SETF %CEPL.TYPES:BUFFER-STREAM-PRIMITIVE) . 1917.3846)
(%CEPL.TYPES::%VALID-INDEX-TYPE-P . 1917.3846)
((SETF %CEPL.TYPES:BUFFER-STREAM-START) . 1917.3846)
(CEPL.GPU-ARRAYS:GPU-ARRAY-ELEMENT-TYPE . 1917.3846)
(CEPL-UTILS:LISTIFY . 1917.3846)
(CEPL.C-ARRAYS::VALID-C-ARRAY-DIMENSION-P . 1917.3846)
(CEPL.C-ARRAYS:MAKE-C-ARRAY-FROM-POINTER . 1917.3846)
(CEPL.C-ARRAYS:SUBSEQ-C . 1917.3846)
(CEPL.INTERNALS:|1D-P| . 1.9171598)
(CEPL.GPU-BUFFERS::BUFFER-RESERVE-BLOCK-RAW . 1.9171598)
(CEPL.GPU-BUFFERS:REALLOCATE-BUFFER . 1.9171598)
(CEPL.GPU-ARRAYS:REALLOCATE-GPU-ARRAY . 1.9171598)
(CEPL.CONTEXT:MAKE-SURFACE-CURRENT . 1.0)
(CEPL.HOST:HOST-SWAP . 1.0)
(CEPL:SWAP . 1.0)


Per Call Cost (avg)
--------------
(CEPL:SWAP . 44.490814)
(CEPL.HOST:HOST-SWAP . 43.14629)
(CEPL.GPU-ARRAYS:REALLOCATE-GPU-ARRAY . 19.435558)
(CEPL.GPU-BUFFERS:REALLOCATE-BUFFER . 18.710102)
(CEPL.GPU-BUFFERS::BUFFER-RESERVE-BLOCK-RAW . 17.86493)
((SETF %CEPL.TYPES:BUFFER-STREAM-PRIMITIVE) . 5.903552)
(CEPL.C-ARRAYS:SUBSEQ-C . 5.4289727)
(CEPL.C-ARRAYS:MAKE-C-ARRAY-FROM-POINTER . 4.070728)
(CEPL.INTERNALS:GL-TYPE-SIZE . 1.3864954)
(CEPL.CONTEXT::SET-GPU-BUFFER-BOUND-ID . 1.2350945)
(CEPL.CONTEXT::SET-TEXTURE-BOUND-ID . 1.1821891)
((SETF CEPL.CONTEXT:VAO-BOUND) . 0.99144953)
(CEPL.INTERNALS:|1D-P| . 0.88099074)
((SETF %CEPL.TYPES:BUFFER-STREAM-START) . 0.84606206)
(CEPL.PIPELINES::UNIFORM-SAMPLER . 0.83315563)
(CEPL.VIEWPORTS::%SET-CURRENT-VIEWPORT . 0.75956464)
((SETF CEPL.CONTEXT::VERTEX-ARRAY-BINDING) . 0.61453754)
((SETF CEPL.CONTEXT::%TEXTURE-BINDING) . 0.5889989)
(%CEPL.TYPES:DRAW-MODE-GROUP-ID . 0.5620022)
(CEPL.TEXTURES::ACTIVE-TEXTURE-NUM . 0.43576992)
(CEPL.VIEWPORTS::%VIEWPORT . 0.42209736)
(CEPL.PIPELINES::UNIFORM-MATRIX-4FT . 0.41228583)
(CEPL.CONTEXT:MAKE-SURFACE-CURRENT . 0.39952666)
(CEPL.C-ARRAYS::%GL-CALC-BYTE-SIZE . 0.3739173)
(CEPL.CONTEXT:DRAW-FBO-BOUND . 0.31623402)
(CEPL.GPU-ARRAYS::%PROCESS-WITH-GPU-ARRAY-RANGE-RUNTIME . 0.30621332)
(CEPL.GPU-ARRAYS:GPU-ARRAY-ELEMENT-TYPE . 0.18714435)
(CEPL.CONTEXT::GPU-BUFFER-BOUND-ID . 0.18192376)
(CEPL-UTILS:LISTIFY . 0.17242804)
(CEPL.PIPELINES::FALLBACK-IUNIFORM-FUNC . 0.17216457)
(CEPL.CONTEXT:VAO-BOUND . 0.17049265)
(%CEPL.TYPES:%SAMPLER-ID . 0.16779937)
(CEPL.VIEWPORTS:CURRENT-VIEWPORT . 0.16464797)
(%CEPL.TYPES:BUFFER-STREAM-INDEX-TYPE . 0.16367136)
(CEPL.GPU-ARRAYS.BUFFER-BACKED:GPU-ARRAY-BUFFER . 0.15911317)
(CEPL.CONTEXT::BUFFER-KIND->CACHE-INDEX . 0.15870705)
(CEPL.C-ARRAYS::VALID-C-ARRAY-DIMENSION-P . 0.1577165)
(%CEPL.TYPES::%VALID-INDEX-TYPE-P . 0.1529318)
(%CEPL.TYPES:BUFFER-STREAM-START . 0.15255924)


Interesting Funcs
--------------
((SETF %CEPL.TYPES:BUFFER-STREAM-PRIMITIVE) 1917.3846 5.903552 11319.38)
(CEPL.C-ARRAYS:SUBSEQ-C 1917.3846 5.4289727 10409.429)
(CEPL.C-ARRAYS:MAKE-C-ARRAY-FROM-POINTER 1917.3846 4.070728 7805.151)
(CEPL.CONTEXT::SET-GPU-BUFFER-BOUND-ID 3850.1184 1.2350945 4755.2603)
(CEPL.CONTEXT::SET-TEXTURE-BOUND-ID 3834.781 1.1821891 4533.4365)
((SETF CEPL.CONTEXT:VAO-BOUND) 3838.6155 0.99144953 3805.7935)
(CEPL.VIEWPORTS::%SET-CURRENT-VIEWPORT 3834.781 0.75956464 2912.7642)
(CEPL.INTERNALS:GL-TYPE-SIZE 1919.3018 1.3864954 2661.103)
((SETF CEPL.CONTEXT::VERTEX-ARRAY-BINDING) 3838.6155 0.61453754 2358.9734)
((SETF CEPL.CONTEXT::%TEXTURE-BINDING) 3834.781 0.5889989 2258.682)
((SETF %CEPL.TYPES:BUFFER-STREAM-START) 1917.3846 0.84606206 1622.2264)
(CEPL.VIEWPORTS::%VIEWPORT 3834.781 0.42209736 1618.6509)
(CEPL.PIPELINES::UNIFORM-SAMPLER 1917.3905 0.83315563 1597.4847)
(CEPL.PIPELINES::UNIFORM-MATRIX-4FT 3834.781 0.41228583 1581.0259)
(CEPL.C-ARRAYS::%GL-CALC-BYTE-SIZE 3834.7693 0.3739173 1433.8866)
(%CEPL.TYPES:DRAW-MODE-GROUP-ID 1917.3905 0.5620022 1077.5776)
(CEPL.CONTEXT::GPU-BUFFER-BOUND-ID 5775.1777 0.18192376 1050.6421)
(CEPL.TEXTURES::ACTIVE-TEXTURE-NUM 1917.3905 0.43576992 835.5411)
(CEPL.VIEWPORTS:CURRENT-VIEWPORT 3834.781 0.16464797 631.3889)
(%CEPL.TYPES:BUFFER-STREAM-INDEX-TYPE 3834.7751 0.16367136 627.6429)
(CEPL.CONTEXT:DRAW-FBO-BOUND 1917.3905 0.31623402 606.3441)
(CEPL.GPU-ARRAYS::%PROCESS-WITH-GPU-ARRAY-RANGE-RUNTIME 1917.3905 0.30621332 587.1305)
(%CEPL.TYPES:BUFFER-STREAM-START 3834.7751 0.15255924 585.0304)
(CEPL.GPU-ARRAYS:GPU-ARRAY-ELEMENT-TYPE 1917.3846 0.18714435 358.8277)
(CEPL-UTILS:LISTIFY 1917.3846 0.17242804 330.61087)
(CEPL.PIPELINES::FALLBACK-IUNIFORM-FUNC 1917.3905 0.17216457 330.10672)
(CEPL.CONTEXT:VAO-BOUND 1917.3905 0.17049265 326.901)
(%CEPL.TYPES:%SAMPLER-ID 1917.3905 0.16779937 321.7369)
(CEPL.GPU-ARRAYS.BUFFER-BACKED:GPU-ARRAY-BUFFER 1919.3077 0.15911317 305.38715)
(CEPL.CONTEXT::BUFFER-KIND->CACHE-INDEX 1919.3077 0.15870705 304.60767)
(CEPL.C-ARRAYS::VALID-C-ARRAY-DIMENSION-P 1917.3846 0.1577165 302.4032)
(%CEPL.TYPES::%VALID-INDEX-TYPE-P 1917.3846 0.1529318 293.22906)
(CEPL.GPU-ARRAYS:REALLOCATE-GPU-ARRAY 1.9171598 19.435558 37.26107)
(CEPL.GPU-BUFFERS:REALLOCATE-BUFFER 1.9171598 18.710102 35.870255)
(CEPL.GPU-BUFFERS::BUFFER-RESERVE-BLOCK-RAW 1.9171598 17.86493 34.249924)
(CEPL.INTERNALS:|1D-P| 1.9171598 0.88099074 1.689)
